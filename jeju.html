<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æµå·ç¾é£Ÿåœ°å›¾</title>
    <meta name="description" content="æµå·å²›ç¾é£Ÿåœ°å›¾ - çƒ¤è‚ ã€çƒ¤è‚‰ã€ç‚–é²­é±¼ã€é…±èŸ¹">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; width: 100%; overflow: hidden; }
        #map { height: 100vh; width: 100vw; }

        .back-btn {
            position: fixed;
            top: 16px;
            left: 16px;
            z-index: 1000;
            background: #fff;
            border: none;
            border-radius: 10px;
            padding: 10px 16px;
            font-size: 0.9rem;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 6px;
            text-decoration: none;
        }
        .back-btn:hover { background: #f5f5f5; }

        .legend-box {
            position: fixed;
            top: 16px;
            right: 16px;
            z-index: 1000;
            background: rgba(255,255,255,0.95);
            border-radius: 10px;
            padding: 10px 14px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            font-size: 0.82rem;
        }
        .legend-title {
            font-weight: 700;
            color: #333;
            margin-bottom: 6px;
            font-size: 0.85rem;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            margin: 3px 0;
            color: #555;
        }
        .legend-dot {
            width: 11px;
            height: 11px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .leaflet-popup-content {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            min-width: 180px;
        }
        .popup-name {
            font-size: 1rem;
            font-weight: 700;
            color: #222;
            margin-bottom: 4px;
        }
        .popup-type {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 6px;
        }
        .popup-addr {
            font-size: 0.78rem;
            color: #888;
            line-height: 1.4;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-btn">
        <i class="fas fa-arrow-left"></i> è¿”å›ä¸»é¡µ
    </a>

    <div class="legend-box">
        <div class="legend-title">ğŸ½ ç¾é£Ÿåˆ†ç±»</div>
        <div class="legend-item"><span class="legend-dot" style="background:#E05A2B"></span>çƒ¤å¤§è‚  (ë§‰ì°½)</div>
        <div class="legend-item"><span class="legend-dot" style="background:#D4634A"></span>çƒ¤è‚‰ (ë¶ˆê³ ê¸°)</div>
        <div class="legend-item"><span class="legend-dot" style="background:#4A7FB5"></span>ç‚–é²­é±¼ (ê³ ë“±ì–´ì°œ)</div>
        <div class="legend-item"><span class="legend-dot" style="background:#8B6D3F"></span>é…±èŸ¹ (ê°„ì¥ê²Œì¥)</div>
    </div>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // æµå·å›½é™…æœºåœº ä¸­å¿ƒåæ ‡
        const jejuCenter = [33.4000, 126.5500];

        const map = L.map('map', {
            center: jejuCenter,
            zoom: 10,
            zoomControl: true,
            attributionControl: true
        });

        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: 'Â© OpenStreetMap, Â© CartoDB',
            subdomains: 'abcd',
            maxZoom: 19
        }).addTo(map);

        // é¢œè‰²é…ç½®
        const TYPE_CONFIG = {
            makchang: { color: '#E05A2B', label: 'çƒ¤å¤§è‚ ', zh: 'ë§‰ì°½' },
            bulgogi:  { color: '#D4634A', label: 'çƒ¤è‚‰',   zh: 'ë¶ˆê³ ê¸°' },
            mackerel: { color: '#4A7FB5', label: 'ç‚–é²­é±¼', zh: 'ê³ ë“±ì–´ì°œ' },
            crab:     { color: '#8B6D3F', label: 'é…±èŸ¹',   zh: 'ê°„ì¥ê²Œì¥' }
        };

        function makeIcon(color) {
            return L.divIcon({
                html: `<div style="background:${color};width:14px;height:14px;border-radius:50%;border:2.5px solid #fff;box-shadow:0 1px 5px rgba(0,0,0,0.35)"></div>`,
                className: '',
                iconSize: [14, 14],
                iconAnchor: [7, 7],
                popupAnchor: [0, -10]
            });
        }

        function addMarker(name, lat, lng, type, addrZh) {
            const cfg = TYPE_CONFIG[type];
            const popup = `
                <div class="popup-name">${name}</div>
                <span class="popup-type" style="background:${cfg.color}">${cfg.label}</span>
                <div class="popup-addr">${addrZh}</div>
            `;
            L.marker([lat, lng], { icon: makeIcon(cfg.color) })
                .addTo(map)
                .bindPopup(popup);
        }

        // ===== çƒ¤å¤§è‚  (ë§‰ì°½) =====
        addMarker('ì—°ë§‰ì°½', 33.4890, 126.4890, 'makchang', 'æµå·å¸‚ æ–°å¤§è·¯16è¡— 49å·');
        addMarker('ê³ í–¥ìˆ¯ë¶ˆë§‰ì°½', 33.5152, 126.5527, 'makchang', 'æµå·å¸‚ ä¸€å‘¨ä¸œè·¯ 281å·');
        addMarker('ìš©íŒ”ì´ë§‰ì°½', 33.4900, 126.4870, 'makchang', 'æµå·å¸‚ æœˆæµªè·¯4è¡— 17å· (è€è¡¡æ´)');
        addMarker('ê³¨ëª©ë¹ˆí†µêµ¬ì´', 33.2500, 126.4140, 'makchang', 'è¥¿å½’æµ¦å¸‚ å¤©å¸æ¸Šè·¯185è¡— 6å· (ä¸­æ–‡)');

        // ===== çƒ¤è‚‰ / ë¶ˆê³ ê¸° =====
        addMarker('ì™•ì¼ë²ˆì§€ì‹ë‹¹', 33.3231, 126.8445, 'bulgogi', 'è¥¿å½’æµ¦å¸‚ è¡¨å–„é¢ åŸå²³é‡Œ 547-1');
        addMarker('í…”ë³´ì‹ë‹¹', 33.5411, 126.6713, 'bulgogi', 'æµå·å¸‚ æœå¤©é‚‘ å’¸å¾·é‡Œ 1002-84');
        addMarker('ë¹„ìí–¥', 33.5226, 126.8528, 'bulgogi', 'æµå·å¸‚ æ—§å·¦é‚‘ å¹³å²±é‡Œ 3204-3');
        addMarker('ê¸ˆëŠ¥ë…¹ì›', 33.3874, 126.2324, 'bulgogi', 'æµå·å¸‚ ç¿°æ—é‚‘ é‡‘é™µé‡Œ 1716');

        // ===== ç‚–é²­é±¼ (ê³ ë“±ì–´ì°œ/ì¡°ë¦¼) =====
        addMarker('ë§›ë‚˜ì‹ë‹¹', 33.4332, 126.9275, 'mackerel', 'è¥¿å½’æµ¦å¸‚ åŸå±±é‚‘ å¤åŸé‡Œ 316-9');
        addMarker('ì¤‘ë¬¸ê³ ë“±ì–´ì¡°ë°¥', 33.2414, 126.4244, 'mackerel', 'è¥¿å½’æµ¦å¸‚ ä¸Šç¤¼æ´ 3706å· (ä¸­æ–‡)');
        addMarker('ì´ì¶˜ì˜¥ì›ì¡°ê³ ë“±ì–´ì¡°ë°¥', 33.4738, 126.4058, 'mackerel', 'æµå·å¸‚ æ¶¯æœˆé‚‘ æ²³é“1é‡Œ 266-1');
        addMarker('ë„¤ê±°ë¦¬ì‹ë‹¹', 33.2454, 126.5664, 'mackerel', 'è¥¿å½’æµ¦å¸‚ è¥¿å½’æ´ 320-9');

        // ===== é…±èŸ¹ (ê°„ì¥ê²Œì¥) =====
        addMarker('ì¥ëª¨ì‹ë‹¹', 33.5030, 126.5361, 'crab', 'æµå·å¸‚ äºŒéƒ½äºŒæ´ 257-6');
        addMarker('ì œì£¼ë¡œìš´ì²­í•´ì›', 33.4350, 126.9270, 'crab', 'è¥¿å½’æµ¦å¸‚ åŸå±±é‚‘ å¤åŸé‡Œ 212-13');
        addMarker('ì¢…ë‹¬ìˆ˜ë‹¤ë…€', 33.4644, 126.8367, 'crab', 'æµå·å¸‚ æ—§å·¦é‚‘ ç»ˆè¾¾é‡Œ 2566-1');
    </script>
</body>
</html>
